<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts/CampaignManager.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">contracts/</a> CampaignManager.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>50/50</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">81.82% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>36/44</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>26/26</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>74/74</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-yes">11×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11×</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">pragma solidity ^0.4.24;
&nbsp;
// EPM Library Usage
import 'openzeppelin-solidity/contracts/ownership/Ownable.sol';
import "./Proxy.sol";
&nbsp;
&nbsp;
/** @title A managment contract to store and manage all Campains for the platform.
* This enables users to create new campagins and then other users can fund them.
* Users can only fund campains that are currently running(have started and not
* finished). If a user withdraws from a campaign, they can only do so if it does
* not result in the campaign no longer getting funded.
* @author Chris Maree - SoIdarity 
*/
contract CampaignManager is Ownable, Proxy{
    /** @dev store the current state of the Camaign. 
    */
    enum State{NotStarted, Running, Funded, UnderFunded}
    
    
    /** @dev define the standard properties of a Campaign 
    * @notice the doners are a mapping of addresses to uints. This enables each
    * donar to donate more than one time and for a record to be kept. Moreover,
    * if a doner removes their donation, a negative value can be stored here to
    * indicate the withdrawl
    * @notice the donersAddresses is used to store an array of all donars that
    * contributed as maps are not itterable by populated keys
    */
    struct Campaign {
        address manager;
        uint startingTime;
        uint endingTime;
        uint balance;
        uint goal;
        uint cap;
        State state;
        mapping(address=&gt;int[]) doners;
        address[] donersAddresses;
        string ipfsHash;
    }
    
    /** @dev store the total number of campaigns. Useful for retreving all of them **/
    uint public campaignCount;
    
    /**
    * @dev Stop the creation of new campagins
    */
    bool public emergencyStop_stopCreation = false;
    
    /**
    * @dev stops the fundion of existing campagins
    */
    bool public emergencyStop_stopFunding = false;
    
    /** @dev store all campaigns as a mapping to their unique ID **/
    mapping(uint=&gt;Campaign) public campaigns;
    
    /**
    * @dev Verify the times spesified for the campaign are valid
    * @param _startingTime of the campaign (unix time stamp)
    * @param _endingTime of the campaign (unix time stamp)
    */
    modifier validNewCampaignTime(uint _startingTime,uint _endingTime){
        require(_startingTime&gt;=now);
        require(_endingTime&gt;_startingTime);
        _;
    }
    
    /**
    * @dev Verify the goals and cap for the campaign are valid
    * @notice if the cap is set to zero, it is uncapped
    * @param _goal value of the campaign (in ETH)
    * @param _cap value of the campaign (in ETH)
    */
    modifier validNewCampaignFunding(uint _goal,uint _cap) {
        <span class="missing-if-branch" title="else path not taken" >E</span>if(_cap !=0){
            <span class="missing-if-branch" title="else path not taken" >E</span>require(_cap&gt;_goal);
        }
        _;
    }
    
    /**
    * @dev Verify the current time is past the start time of the camaign
    * @param _campaignID unique identifer of the campaign
    */
    modifier campaignHasStarted(uint _campaignID) {
        require(now&gt;campaigns[_campaignID].startingTime);
        _;
    }
    
    /**
    * @dev checks if the campaign is yet to start
    * @param _campaignID unique identifer of the campaign
    */
    modifier campaignNotStarted(uint _campaignID){
        require(now &lt; campaigns[_campaignID].startingTime);
        _;
    }
&nbsp;
    /**
    * @dev checks if the campain has ended (current time more than end time)
    * @param _campaignID unique identifer of the campaign
    */
    modifier campaignEnded(uint _campaignID){
        require(now&gt;campaigns[_campaignID].endingTime);
        _;
    }
&nbsp;
    /**
    * @dev Verify the current time is not past the end time of the camaign
    * @param _campaignID unique identifer of the campaign
    */
    modifier campaignHasNotEnded(uint _campaignID) {
        require(now&lt;campaigns[_campaignID].endingTime);
        _;
    }
    
    /**
    * @dev checks if the campain has Succeeded (donation &gt; than goal)
    * @param _campaignID unique identifer of the campaign
    */
    modifier campaignSucceeded(uint _campaignID){
        <span class="missing-if-branch" title="else path not taken" >E</span>require(campaigns[_campaignID].balance&gt;campaigns[_campaignID].goal);
        _;
    }
&nbsp;
    /**
    * @dev checks if the campain has failed (donation &lt; than goal)
    * @param _campaignID unique identifer of the campaign
    */
    modifier campaignUnsuccessful(uint _campaignID) {
        <span class="missing-if-branch" title="else path not taken" >E</span>require(now &gt; campaigns[_campaignID].endingTime);
        <span class="missing-if-branch" title="else path not taken" >E</span>require(campaigns[_campaignID].balance &lt; campaigns[_campaignID].goal);
        _;
    }
&nbsp;
    /**
    * @dev checks if a campain has been funded, and therefore paid out. 
    * @notice This assertion prevents manager's from withdrawing twice from a fund.
    * @param _campaignID unique identifer of the campaign
    */
    modifier campaignNotFunded(uint _campaignID){
        require(campaigns[_campaignID].state != State.Funded);
        _;
    }
    
    /**
    * @dev Verify that the donation will not cause the campaign to exceed its cap
    * @notice this function takes into account the current balance and the donation
    * @param _campaignID unique identifer of the campaign
    */
    modifier campaignWillNotExceedCap(uint _campaignID) {
        require(campaigns[_campaignID].balance + msg.value&lt;=campaigns[_campaignID].cap);
        _;
    }
    
    /**
    * @dev Verify that the donation will not cause the campaign to drop below
    * its goal. This prevents someone from making a campaign that would succeed,
    * fail due to cancelling their contribution
    * @notice value is required as the user has the choice to either cancle or
    * reduce their donation.
    * @param _campaignID unique identifer of the campaign
    * @param _value is the amount that the donar wants to reduce their donation by
    */
    modifier campaignWillNotDropBelowGoal(uint _campaignID, uint _value) {
        if(campaigns[_campaignID].balance&gt;campaigns[_campaignID].goal){
            <span class="missing-if-branch" title="if path not taken" >I</span>require(campaigns[_campaignID].balance-_value &gt; campaigns[_campaignID].goal);
        }
        _;
    }
    
    /**
    * @dev Verify that the reduction from a donation will not cause the donation
    * to drop below zero, and as such enabling the user to take out more than
    * they deposited. Moreover, this check ensures that a user who did not donate
    * cant withdraw as this assert will fail as their total donation balance will
    * be zero.
    * @notice the function needs to check the total donation for the user by
    * summing over all previous donations
    * @param _campaignID unique identifer of the campaign
    * @param _value is the amount that the donar wants to reduce their donation by
    */
    modifier adequetDonationToReduce(uint _campaignID, uint _value){
        int totalDonation = 0;
        for (uint i=0; i&lt;campaigns[_campaignID].doners[msg.sender].length;i++){
            totalDonation += campaigns[_campaignID].doners[msg.sender][i];
        }
        require(totalDonation-int(_value)&gt;=0);
        _;
    }
    
    /**
    * @dev checks that the caller of the function is the campaign's manager;
    * This is the person that create the campaign.
    * @param _campaignID unique identifer of the campaign
    */
    modifier onlyManager(uint _campaignID){
        require(msg.sender == campaigns[_campaignID].manager);
        _;
    }
    /**
    * @dev checks if a caller of the function is a Contributer to the campaign
    * @notice If they have contributed, there will be some items within the 
    * doners array representing donations.
    * @param _campaignID unique identifer of the campaign
    */
    modifier onlyContributer(uint _campaignID){
        <span class="missing-if-branch" title="else path not taken" >E</span>require(campaigns[_campaignID].doners[msg.sender].length &gt; 0);
        _;
    }
    
    /**
    * @dev Prevents the creation of new campaigns
    */
    modifier emergencyStop_Creation(){
        require(emergencyStop_stopCreation == false);
        _;
    }
    
    /**
    * @dev Prevents the funding of new campaigns
    */
    modifier emergencyStop_Funding(){
        <span class="missing-if-branch" title="else path not taken" >E</span>require(emergencyStop_stopFunding == false);
        _;
    }
    
     /** @dev Assign owner and reset campaign */
    constructor() 
        public {
        owner = msg.sender;
        campaignCount = 0;
    }
    
    function enableEmergencyStop_Creation()
        public
        onlyOwner
    {
        emergencyStop_stopCreation = true;
    }
    
    function enableEmergencyStop_Funding()
        public
        onlyOwner
    {
        emergencyStop_stopFunding = true;
    }
    
    /**
    * @dev Generate a new campaign struct and store it. Assign manager and values
    * @notice this sets the inital value of the State to NotStarted
    * @param _startingTime unix time stamp of when the campaign will start
    * @param _endingTime unix time stamp of when the campaign will end
    * @param _goal value of the campaign (in ETH).
    * @param _cap value of the campaign (in ETH)
    * @param _ipfsHash represents the campain information on IPFS in a hash
    */
    function createCampaign(
        uint _startingTime, 
        uint _endingTime, 
        uint _goal, 
        uint _cap, 
        string _ipfsHash
    ) 
        public
        validNewCampaignTime(_startingTime,_endingTime)
        validNewCampaignFunding(_goal,_cap)
        emergencyStop_Creation
        returns(uint)
    {
        address[] memory emptydonersAddresses;
        campaigns[campaignCount] = Campaign({
            manager: msg.sender,
            startingTime: _startingTime,
            endingTime: _endingTime,
            balance: 0,
            goal: _goal,
            cap: _cap,
            state: State.NotStarted,
            donersAddresses: emptydonersAddresses,
            ipfsHash: _ipfsHash
        });
        campaignCount += 1;
        return campaignCount;
    }
    
    /**
    * @dev Enable anyone to donate to a campaign. The campaign must have started,
    * have not finished and not exceeded it's cap to be able to deposit.
    * @notice this changes the state of a campaign from NotStarted -&gt; Running
    * @param _campaignID unique identifer of the campaign
    */
    function fundCampaign(uint _campaignID) 
        public
        payable
        campaignHasStarted(_campaignID)
        campaignHasNotEnded(_campaignID)
        campaignWillNotExceedCap(_campaignID)
        emergencyStop_Funding
    {
        campaigns[_campaignID].balance += msg.value;
        // Need to implicity typecast the msg.value for as donars can be
        // negative when withdrawing
        campaigns[_campaignID].doners[msg.sender].push(int(msg.value));
        // There is no point in storing a doners address multiple times in the
        //donersAddresses array so only add if you this is your first contribution
        // if(campaigns[_campaignID].doners[msg.sender].length==0){
            campaigns[_campaignID].donersAddresses.push(msg.sender);         
        // }
        if (campaigns[_campaignID].state != State.Running){
            campaigns[_campaignID].state = State.Running;
        }
    }
    
    /**
    * @dev Enable any donar to reduce their donation. The campaign must have,
    * started have not finished and their reduction must not make a project that
    * would succeed fail due to the reduction.
    * @notice we dont need to check the state of the campain as you would only
    * call this function if you had at some point donated and the check is done 
    * there (function fundCampaign).
    * @param _campaignID unique identifer of the campaign
    * @param _value the amount bywhich the campaign is reduced
    */
    function reduceDontation(uint _campaignID, uint _value)
        public
        campaignHasStarted(_campaignID)
        campaignHasNotEnded(_campaignID)
        campaignWillNotDropBelowGoal(_campaignID, _value)
        adequetDonationToReduce(_campaignID, _value)
    {
        campaigns[_campaignID].balance -= _value;
        // store the reduction in the doners respective array as a negative value
        // preserving a history of reductions. The sum of this array is their
        // respective donation
        campaigns[_campaignID].doners[msg.sender].push(-int(_value));
        msg.sender.transfer(_value); //refund the user for the Ether they sent in
    }
    
    /**
    * @dev Enable the campaign manager to withdraw the funds donated after the 
    * period is finished. The state of the campaign.state defines if the ownerc
    * @notice The campaign state changes from Running -&gt; Funded
    * @param _campaignID unique identifer of the campaign
    */
    function withdrawCampaignFunds(uint _campaignID)
        public
        onlyManager(_campaignID)
        campaignEnded(_campaignID)
        campaignSucceeded(_campaignID)
        campaignNotFunded(_campaignID)
    {
        // Note that we dont have to change the balance of the campaign as we
        // prevent double withdraws by checking the state of the campaign. 
        // Leaving the balance within the campaign enables an easy way to sender
        // the total funds sent to the campaign.
        campaigns[_campaignID].state = State.Funded;
        msg.sender.transfer(campaigns[_campaignID].balance);
    }
    
    /**
    * @dev Enables someone who contributed to a failed campaign to get back 
    * their contributions back. This is a sum of all their contributions
    * period is finished. 
    * @notice The campaign state changes from Running -&gt; Failed
    * @param _campaignID unique identifer of the campaign
    */
    function refundFailedCampaign(uint _campaignID)
        public
        onlyContributer(_campaignID)
        campaignEnded(_campaignID)
        campaignUnsuccessful(_campaignID)
    {
        uint totalContributed = 0;
        for (uint i = 0;i &lt; campaigns[_campaignID].doners[msg.sender].length; i++){
            totalContributed += uint(campaigns[_campaignID].doners[msg.sender][i]);
        }
        // Take away their whole contribution from their profile. This means
        // that if they try redraw again the sum total == 0. The require is here
        // to ensure that if the user calls again the function will not preform
        // a transaction of 0 ether and will throw
        require(totalContributed&gt;0);
        campaigns[_campaignID].doners[msg.sender].push(-int(totalContributed));
        msg.sender.transfer(totalContributed);
    }
&nbsp;
    /**
    * @dev Enables a fund manager to update the ipfs hash on an entry in the 
    * case they change it. 
    * @notice They can ONLY do this before a fund is sstarted.
    * @param _campaignID unique identifer of the campaign
    * @param _newHash defines the new IPFS hash for the campaign
    */
    function updateIpfsHash(uint _campaignID, string _newHash)
        public
        onlyManager(_campaignID)
        campaignNotStarted(_campaignID)
    {
        campaigns[_campaignID].ipfsHash = _newHash;
    }
    
    function fetchCampaign(uint _campaignID)
        public
        view
        returns
        (address manager,
        uint startingTime,
        uint endingTime,
        uint balance,
        uint goal,
        uint cap,
        State state,
        address[] donersAddresses,
        string ipfsHash)
    {
        manager = campaigns[_campaignID].manager;
        startingTime = campaigns[_campaignID].startingTime;
        endingTime = campaigns[_campaignID].endingTime;
        balance = campaigns[_campaignID].balance;
        goal = campaigns[_campaignID].goal;
        cap = campaigns[_campaignID].cap;
        state = campaigns[_campaignID].state;
        donersAddresses = campaigns[_campaignID].donersAddresses;
        ipfsHash = campaigns[_campaignID].ipfsHash;
        return (manager, startingTime, endingTime, balance, goal, cap, state, donersAddresses, ipfsHash);
    }
}</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Mon Aug 27 2018 19:00:26 GMT+0200 (SAST)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
